<form>
  <div> Recherche de type Angular
    <input type='text' placeholder="Ville" [(ngModel)]="citySearch" (keyup)="filterDataByCity()" name="city">
    <input type='text' placeholder="Etat avancement" [(ngModel)]="stateSearch" (keyup)="filterDataByState()" name="state">
  </div>
  <div>Recherche avec appel API
    <input type='text' placeholder="Ville" [(ngModel)]="citySearchClick" name="cityClick">
    <button (click)="filterByCityClick()">Recherche par Ville</button>
    <input type='text' placeholder="Etat avancement" [(ngModel)]="stateSearchClick" name="stateClick">
    <button (click)="filterByStateClick()">Recherche par Etat</button>
  </div>
</form>

  <table *ngIf="investments" mat-table [dataSource]="filteredInv" class="mat-elevation-z8">
    <ng-container matColumnDef="titreoperation">
      <th mat-header-cell *matHeaderCellDef>Opération</th>
      <td mat-cell *matCellDef="let investment"> {{investment.titreoperation}} </td>
    </ng-container>
  
    <ng-container matColumnDef="entreprise">
      <th mat-header-cell *matHeaderCellDef>Entreprise</th>
      <td mat-cell *matCellDef="let investment"> {{investment.entreprise}} </td>
    </ng-container>
  
    <ng-container matColumnDef="annee_de_livraison">
      <th mat-header-cell *matHeaderCellDef>Livraison</th>
      <td mat-cell *matCellDef="let investment"> {{investment.annee_de_livraison}} </td>
    </ng-container>
  
    <ng-container matColumnDef="ville">
      <th mat-header-cell *matHeaderCellDef>Ville</th>
      <td mat-cell *matCellDef="let investment"> {{investment.ville}} </td>
    </ng-container>

    <!-- <ng-container matColumnDef="mandataire">
      <th mat-header-cell *matHeaderCellDef>Mandataire</th>
      <td mat-cell *matCellDef="let investment"> {{investment.mandataire}} </td>
    </ng-container>
  
    <ng-container matColumnDef="ppi">
      <th mat-header-cell *matHeaderCellDef>PPI</th>
      <td mat-cell *matCellDef="let investment"> {{investment.ppi}} </td>
    </ng-container>
  
    <ng-container matColumnDef="lycee">
      <th mat-header-cell *matHeaderCellDef>Lycée</th>
      <td mat-cell *matCellDef="let investment"> {{investment.lycee}} </td>
    </ng-container>
  
    <ng-container matColumnDef="notification_du_marche">
      <th mat-header-cell *matHeaderCellDef>Notification Marché</th>
      <td mat-cell *matCellDef="let investment"> {{investment.notification_du_marche}} </td>
    </ng-container> -->
  
    <ng-container matColumnDef="codeuai">
      <th mat-header-cell *matHeaderCellDef>Code UAI</th>
      <td mat-cell *matCellDef="let investment"> {{investment.codeuai}} </td>
    </ng-container>
  
    <!-- <ng-container matColumnDef="longitude">
      <th mat-header-cell *matHeaderCellDef>Longitude</th>
      <td mat-cell *matCellDef="let investment"> {{investment.longitude}} </td>
    </ng-container> -->
  
    <ng-container matColumnDef="etat_d_avancement">
      <th mat-header-cell *matHeaderCellDef>Etat d'avancement</th>
      <td mat-cell *matCellDef="let investment"> {{investment.etat_d_avancement}} </td>
    </ng-container>
  
    <!-- <ng-container matColumnDef="montant_des_ap_votes_en_meu">
      <th mat-header-cell *matHeaderCellDef>Monant AP Votes</th>
      <td mat-cell *matCellDef="let investment"> {{investment.montant_des_ap_votes_en_meu}} </td>
    </ng-container>

    <ng-container matColumnDef="latitude">
      <th mat-header-cell *matHeaderCellDef>Latitude</th>
      <td mat-cell *matCellDef="let investment"> {{investment.latitude}} </td>
    </ng-container>
  
    <ng-container matColumnDef="maitrise_d_oeuvre">
      <th mat-header-cell *matHeaderCellDef>Maitrise d'oeuvre</th>
      <td mat-cell *matCellDef="let investment"> {{investment.maitrise_d_oeuvre}} </td>
    </ng-container>
  
    <ng-container matColumnDef="mode_de_devolution">
      <th mat-header-cell *matHeaderCellDef>Mode Dévolution</th>
      <td mat-cell *matCellDef="let investment"> {{investment.mode_de_devolution}} </td>
    </ng-container>
  
    <ng-container matColumnDef="annee_d_individualisation">
      <th mat-header-cell *matHeaderCellDef>Année Individualisation</th>
      <td mat-cell *matCellDef="let investment"> {{investment.annee_d_individualisation}} </td>
    </ng-container>

    <ng-container matColumnDef="enveloppe_prev_en_meu">
      <th mat-header-cell *matHeaderCellDef>Enveloppe Prévisionnelle</th>
      <td mat-cell *matCellDef="let investment"> {{investment.enveloppe_prev_en_meu}} </td>
    </ng-container>
  
    <ng-container matColumnDef="cao_attribution">
      <th mat-header-cell *matHeaderCellDef>CAO Attribution</th>
      <td mat-cell *matCellDef="let investment"> {{investment.cao_attribution}} </td>
    </ng-container> -->
    <ng-container matColumnDef="detail">
      <th mat-header-cell *matHeaderCellDef>Détail</th>
      <td mat-cell *matCellDef="let investment"> <button (click)="getOneInvestment(investment)">Détail</button> </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  
  